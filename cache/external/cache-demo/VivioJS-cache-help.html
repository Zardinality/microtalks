<!DOCTYPE html>
<!-- saved from url=(0065)https://www.scss.tcd.ie/Jeremy.Jones/VivioJS/caches/cacheHelp.htm -->
<html lang="en" class=" gmfhcyp idc0_345"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><style type="text/css" id="alertifyCSS">.alertify-logs>*{padding:12px 24px;color:#fff;box-shadow:0 2px 5px 0 rgba(0,0,0,.2);border-radius:1px}.alertify-logs>*,.alertify-logs>.default{background:rgba(0,0,0,.8)}.alertify-logs>.error{background:rgba(244,67,54,.8)}.alertify-logs>.success{background:rgba(76,175,80,.9)}.alertify{position:fixed;background-color:rgba(0,0,0,.3);left:0;right:0;top:0;bottom:0;width:100%;height:100%;z-index:1}.alertify.hide{opacity:0;pointer-events:none}.alertify,.alertify.show{box-sizing:border-box;transition:all .33s cubic-bezier(.25,.8,.25,1)}.alertify,.alertify *{box-sizing:border-box}.alertify .dialog{padding:12px}.alertify .alert,.alertify .dialog{width:100%;margin:0 auto;position:relative;top:50%;transform:translateY(-50%)}.alertify .alert>*,.alertify .dialog>*{width:400px;max-width:95%;margin:0 auto;text-align:center;padding:12px;background:#fff;box-shadow:0 2px 4px -1px rgba(0,0,0,.14),0 4px 5px 0 rgba(0,0,0,.098),0 1px 10px 0 rgba(0,0,0,.084)}.alertify .alert .msg,.alertify .dialog .msg{padding:12px;margin-bottom:12px;margin:0;text-align:left}.alertify .alert input:not(.form-control),.alertify .dialog input:not(.form-control){margin-bottom:15px;width:100%;font-size:100%;padding:12px}.alertify .alert input:not(.form-control):focus,.alertify .dialog input:not(.form-control):focus{outline-offset:-2px}.alertify .alert nav,.alertify .dialog nav{text-align:right}.alertify .alert nav button:not(.btn):not(.pure-button):not(.md-button):not(.mdl-button),.alertify .dialog nav button:not(.btn):not(.pure-button):not(.md-button):not(.mdl-button){background:transparent;box-sizing:border-box;color:rgba(0,0,0,.87);position:relative;outline:0;border:0;display:inline-block;-ms-flex-align:center;-ms-grid-row-align:center;align-items:center;padding:0 6px;margin:6px 8px;line-height:36px;min-height:36px;white-space:nowrap;min-width:88px;text-align:center;text-transform:uppercase;font-size:14px;text-decoration:none;cursor:pointer;border:1px solid transparent;border-radius:2px}.alertify .alert nav button:not(.btn):not(.pure-button):not(.md-button):not(.mdl-button):active,.alertify .alert nav button:not(.btn):not(.pure-button):not(.md-button):not(.mdl-button):hover,.alertify .dialog nav button:not(.btn):not(.pure-button):not(.md-button):not(.mdl-button):active,.alertify .dialog nav button:not(.btn):not(.pure-button):not(.md-button):not(.mdl-button):hover{background-color:rgba(0,0,0,.05)}.alertify .alert nav button:not(.btn):not(.pure-button):not(.md-button):not(.mdl-button):focus,.alertify .dialog nav button:not(.btn):not(.pure-button):not(.md-button):not(.mdl-button):focus{border:1px solid rgba(0,0,0,.1)}.alertify .alert nav button.btn,.alertify .dialog nav button.btn{margin:6px 4px}.alertify-logs{position:fixed;z-index:1}.alertify-logs.bottom,.alertify-logs:not(.top){bottom:16px}.alertify-logs.left,.alertify-logs:not(.right){left:16px}.alertify-logs.left>*,.alertify-logs:not(.right)>*{float:left;transform:translateZ(0);height:auto}.alertify-logs.left>.show,.alertify-logs:not(.right)>.show{left:0}.alertify-logs.left>*,.alertify-logs.left>.hide,.alertify-logs:not(.right)>*,.alertify-logs:not(.right)>.hide{left:-110%}.alertify-logs.right{right:16px}.alertify-logs.right>*{float:right;transform:translateZ(0)}.alertify-logs.right>.show{right:0;opacity:1}.alertify-logs.right>*,.alertify-logs.right>.hide{right:-110%;opacity:0}.alertify-logs.top{top:0}.alertify-logs>*{box-sizing:border-box;transition:all .4s cubic-bezier(.25,.8,.25,1);position:relative;clear:both;backface-visibility:hidden;perspective:1000;max-height:0;margin:0;padding:0;overflow:hidden;opacity:0;pointer-events:none}.alertify-logs>.show{margin-top:12px;opacity:1;max-height:1000px;padding:12px;pointer-events:auto}</style>
  
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="canonical" href="https://www.scss.tcd.ie/Jeremy.Jones/caches/cacheHelp.htm">
   <link rel="icon" type="image/x-icon" href="https://www.scss.tcd.ie/Jeremy.Jones/VivioJS/vivio.ico">
  <title>VivioJS cache help</title>
  <script src="./VivioJS-cache-help_files/funcs.js.download"></script>
  <script src="./VivioJS-cache-help_files/vivio.js.download"></script>
  <script src="./VivioJS-cache-help_files/cache.js.download"></script>
<style id="lc9arj8h.q">rt.katakana-terminator-rt::before { content: attr(data-rt); }</style></head>
<body style="background-color:#e0e0e0;" data-new-gr-c-s-check-loaded="14.1091.0" data-gr-ext-installed="">
  <script>
    header("Cache Animation");
  </script><table style="margin-left:2%; width:96%; margin-top:5px">
  <tbody><tr>
    <td style="background-color:#00902a; font-size:x-large; color:white; padding-left:10px; border-radius:5px 5px 5px 5px;">VivioJS</td>
  </tr>
  <tr style="height:5px;"></tr>
  <tr>
    <td id="subtitle" style="background-color:#c0c0c0; font-variant:small-caps; font-size:large; padding-left:10px; border-radius:5px 5px 5px 5px;">Cache Animation</td>
  </tr>
</tbody></table>

  <table style="margin-left:5%; width:90%; border:0; border-spacing:0; padding:0;">
    <tbody><tr>
      <td style="height:40px;">
        <p style="text-align:justify;"><br>
        This Vivio animation is designed to understand the operation of a CPU cache.</p>
        <p style="text-align:justify;">A sequence of addresses is fed through a software model of a cache. The sequence is selected by pressing the appropriate
        button and can be (i) the addresses given in <a href="https://www.scss.tcd.ie/Jeremy.Jones/CSU34021/t6.pdf">CSU34021 tutorial 6</a>, (ii) a repetitive sequence of 5 sequential addresses and
        (iii) a set of random addresses. The repetitive sequence can be used to show that, in some circumstances, a direct mapped cache can have a better
        hit-rate than a fully associative cache.</p>
        <p style="text-align:justify;">The organisation of the cache is specified by three parameters L, K and N which can be set by pressing the appropriate
        buttons. Only a subset of values are allowed as drawing large caches on a small screen is impractical. L is the number of bytes stored per cache line,
        K the cache associativity and N the number of sets. K=1 indicates a direct mapped cache and N=1 a fully associative cache. The cache size is L×K×N
        bytes.<br></p>
      </td>
    </tr>
    <tr>
      <td style="text-align:center; color:red;">
        <!-- tabindex needed for keyboard input -->
        <canvas id="canvas" tabindex="1" style="margin: auto; width: 96%; max-width: 1024px; display: block; z-index: 0;" width="1024" height="640">
          No canvas support
        </canvas>
        Click on diagram to activate animation or <a href="https://www.scss.tcd.ie/Jeremy.Jones/VivioJS/caches/cache.htm">here</a> for a full screen version.
      <canvas width="1024" height="640" style="position: absolute; z-index: 1000; pointer-events: none; overflow: hidden; display: block; left: 337px; top: 1px;"></canvas><canvas width="1024" height="640" style="position: absolute; z-index: 100; pointer-events: none; overflow: hidden; display: block; left: 337px; top: 1px;"></canvas></td>
    </tr>
    <tr>
      <td style="height:40px;">
        <p style="text-align:justify;"><br>
        The simulation is started and stopped by pressing the button marked "start" or "stop". The simulation is reset back to the beginning by pressing the
        "reset" button and the simulation speed can be speeded up and slowed down in a cyclic fashion by pressing the button marked "xx ticks/s". The animation
        can also be controlled by pressing the right-hand mouse button on the window background.</p>
        <p style="text-align:justify;">The cache is organised as a matrix of N×K tags together with a corresponding matrix of N×K cache lines. Each cache line
        holds L data bytes.</p>
        <p style="text-align:justify;">An incoming address is split into 3 fields. The low order log2(L) bits give the byte offset within a cache line (always
        4 byte aligned in simulation), the next log2(N) bits selects the set and the remaining high order bits are used as the address tag. The address tag is
        compared, in parallel, with all K tags of the selected set. If a match is found then we have a hit, otherwise a miss.</p>
        <p style="text-align:justify;">On a hit, the tags are re-ordered on a least recently used (LRU) basis. This is illustrated by using darker shades of
        gray for the older tags.</p>
        <p style="text-align:justify;">On a miss, a complete cache line (L bytes) is read from main memory and placed in the set's least recently used cache
        line. The corresponding tag and the tag ordering are updated.</p>
        <p style="text-align:justify;">The selected word (32 bits) from the cache line is returned to the CPU.<br></p>
      </td>
    </tr>
  </tbody></table><br>
  <script>
	vplayer = new VPlayer("canvas", cache);
	footer("caches");
  </script><table style="width:96%; margin-left:2%; border-spacing:0">
  <tbody><tr style="font-size:small;">
    <td id="cnt" ;="" style="width:33%; background-color:#00902a; color:white; padding-left:10px; border-radius:5px 0px 0px 5px;">131,341 hits since Jul-05  0.047 secs</td>
    <td style="width:33%; background-color:#00902a; text-align:center; color:white;">Copyright © 2021 jones@scss.tcd.ie</td>
    <td style="text-align:right; background-color:#00902a; color:white; padding-right:10px; border-radius: 0px 5px 5px 0px">last updated: 21-Dec-21</td>
  </tr>
</tbody></table>
<br>



</body><grammarly-desktop-integration data-grammarly-shadow-root="true"></grammarly-desktop-integration></html>